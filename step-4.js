/* Step 3 - Response:

c5QbAv6ACaQIGsyNDBBbAFsMUkm7WzsKfzsUjt9aZim1DPYOdl7ICeBFYvGZx831my0AFwr8gjh57OwhOeITVDIcdcePVrUTKBOv
ECMHmR9QkfGxebS2NgOkMOi5T9AIm5WWzBTsS6v6eStmN1mQflBHBt7RYD1OmPbDqjAkNEB7y8uegtn5BBvopObFtrZaCVhqcf7G
QkpxGBSCnwLvqT24kDNMOCstuk7CLohXpEolDrX9uonLhAtoYbkEZWDHsigk8LSZsrNEt9UsTVwzoUThrZ9ZOHNDHXrfOWwcPYAp
ah8B1jL5qE952VuMjqe10oLUMKHn8RrjV5vIBZzNqI9vO1Uz1M9MNAX6KzI2IdpEtc8NNpSFpK35hWyInGd247v4DTgOq7JvRPeM
0RxkNSKDUppbMajhracA0pgL7yIvm8CijNSjWurHaS9fKILOJ3ztsflRnUuLuNvnGHj6nOVG0nBejNoXAlRSQoBUeYYXTp8qDU7C
MFVj3QYISf7Z2NoRRKYGX75uBs0Z02fUIss2dn9jjnx2AaZbeC0TFsRHGwT3jyPmQEq4KqwFFkaZuiiEA9UAxQEfUdUebJlQcwGU
Ku6MdRA8ocL5ve0aZt0uXVYc0AR1se42C62ElBgYN9ARKjUUJ3isGmX6XdeBLGmoQL3PSF8SEkx7d21tDzEjc5rKrSwAGMuWGjbj
zw5MDlOOXXWLTSHAw0BkK2NKDrXFYi2Fw5hqj5sQF8wtZWGbDTqSN4I0aq5IaaP1PcbdPKfAgD7BrrR0Yw5qiF4zjdzQTPxuvvFs
mtAbZl5vtWotoloXzvecj9agxrli013urx75n6q1niscc5QbAv6ACaQIGsyNDBBbAFsMUkm7WzsKfzsUjt9aZim1DPYOdl7ICeBF
YvGZx831my0AFwr8gjh57OwhOeITVDIcdcePVrUTKBOvECMHmR9QkfGxebS2NgOkMOi5T9AIm5WWzBTsS6v6eStmN1mQflBHBt7R
YD1OmPbDqjAkNEB7y8uegtn5BBvopObFtrZaCVhqcf7GQkpxGBSCnwLvqT24kDNMOCstuk7CLohXpEolDrX9uonLhAtoYbkEZWDH
sigk8LSZsrNEt9UsTVwzoUThrZ9ZOHNDHXrfOWwcPYApah8B1jL5qE952VuMjqe10oLUMKHn8RrjV5vIBZzNqI9vO1Uz1M9MNAX6
KzI2IdpEtc8NNpSFpK35hWyInGd247v4DTgOq7JvRPeM0RxkNSKDUppbMajhracA0pgL7yIvm8CijNSjWurHaS9fKILOJ3ztsflR
nUuLuNvnGHj6nOVG0nBejNoXAlRSQoBUeYYXTp8qDU7CMFVj3QYISf7Z2NoRRKYGX75uBs0Z02fUIss2dn9jjnx2AaZbeC0TFsRH
GwT3jyPmQEq4KqwFFkaZuiiEA9UAxQEfUdUebJlQcwGUKu6MdRA8ocL5ve0aZt0uXVYc0AR1se42C62ElBgYN9ARKjUUJ3isGmX6
XdeBLGmoQL3PSF8SEkx7d21tDzEjc5rKrSwAGMuWGjbjzw5MDlOOXXWLTSHAw0BkK2NKDrXFYi2Fw5hqj5sQF8wtZWGbDTqSN4I0
aq5IaaP1PcbdPKfAgD7BrrR0Yw5qiF4zjdzQTPxuvvFsmtAbZl5vtWotoloXzve

You're tougher than we thought! Send an HTTP GET request to
https://nodeconf.elementum.com:5643/<YOUR@EMAIL>/<FILE_NAME>, where FILE_NAME is the name of this
file. The server will send you an image that contains an encrypted secret message in it.You better
get to work if you want to win that Phantom drone!
*/

// So, I should open this in the browser... I guess:
// https://nodeconf.elementum.com:5643/tiagox@gmail.com/1f45fe2de4a069a5e94efc0cfb2720cf32d21c46673ebec8772af2104d2445ceddaf65969b9988977ef7336a2f1cc5ae3bb273780fc4da81b735dbee1cde6995

// Applying a little bit of reverse engeeniering on the code in the image...

const Jimp = require('jimp')

const encoded_image = '1f45fe2de4a069a5e94efc0cfb2720cf32d21c46673ebec8772af2104d2445ceddaf65969b9988977ef7336a2f1cc5ae3bb273780fc4da81b735dbee1cde6995.png'

Jimp.read(encoded_image, (err, image) => {
	const width = image.bitmap.width
	const height = image.bitmap.height
	const binaryMessage = []
	const newImage = new Jimp(width, height, (err, imageToEncode) => {
		for (let i = 0; i < height; i++) {
			for (let j = 0; j < width; j++) {
				const color = Jimp.intToRGBA(image.getPixelColor(j, i))
				// The only thing that really matter is the LSB in the red color byte.
				const r = color.r.toString(2).split('')
				binaryMessage[width * i + j] = r[r.length - 1]
			}
		}
	})
	console.log(binaryMessage.join(''))
})

/*
0100110101100001011011100010000001101111011010000010000001101101011000010110111000101100001000000111
0111011001010010000001100100011010010110010001101110001001110111010000100000011001010111100001110000
0110010101100011011101000010000001100001011011100111100101101111011011100110010100100000011101000110
1111001000000110011101100101011101000010000001110100011010000110100101110011001000000110011001100001
0111001000101110001000000100001001110101011101000010000001111001011011110111010100100111011100100110
0101001000000110111001101111011101000010000001100100011011110110111001100101001000000111100101100101
0111010000101110001000000101100101101111011101010010000001110111011010010110110001101100001000000110
1110011001010110010101100100001000000111010001101111001000000110001101101111011011100110111001100101
0110001101110100001000000111010001101111001000000010011101101000011101000111010001110000011100110011
1010001011110010111101101110011011110110010001100101011000110110111101101110011001100010111001100101
0110110001100101011011010110010101101110011101000111010101101101001011100110001101101111011011010011
1010001101100011100000110010001101100010011100100000011101010111001101101001011011100110011100100000
0101001101101111011000110110101101100101011101000100100101001111001110100010000000101110001000000100
0001011001100111010001100101011100100010000001110100011010000110000101110100001011000010000001111001
0110111101110101001000000110110101110101011100110111010000100000011001010110110101101001011101000010
0000011101000110111100100000011101000110100001100101001000000111001101101111011000110110101101100101
0111010000100000011101000110100001100101001000000010011101101010011011110110100101101110001001110010
0000011001010111011001100101011011100111010000101100001000000111011101101001011101000110100000100000
0111101100100000011001010110110101100001011010010110110000111010001000000010011101110100011010010110
0001011001110110111101111000010000000110011101101101011000010110100101101100001011100110001101101111
0110110100100111001011000010000001110100011011110110101101100101011011100011101000100000001001110110
0100011001010011011100110011001110010011010001100101011001010011000100110101001100010011011101100100
0011010101100110001110000110010000110110001100010011010000110100001110000110000100111000011001100110
0101001110000011010001100001011001010011011001100010011000010110001001100100001101000110010100110001
0110010000110111001100100110010000110111001110010011100000111001001110010110010101100101001100110110
0101011001010011010001100110011001010011010000110101001101100110000100110111011001100011011101100010
0110000101100001001100000011100100110000011001100011010000110100011001100011011100110100011001100011
0000011001000011011100110101001101010110001001100001001101010011011100111001001101000011011001100011
0011100001100110001101100011100101100001001100110110000100110001011001100011011001100100011001100011
0110001101000110011001100100001101000110010101100001011001100110010101100101001100000110010000110001
0110000100110111011001010011001000110100011001010110010101100110001100100011010100111001001101110110
0001001101100011100100100111001000000111110100101110001000000100111001101111011101110010110000100000
0110101101100101011001010111000000100000011001010110110101101001011101000111010001101001011011100110
0111001000000111010001101000011001010010000000100111011011100110010101111000011101000010011100100000
0110010101110110011001010110111001110100001000000111010001101111001000000111010001101000011001010010
0000011100110110111101100011011010110110010101110100001011000010000001110111011010000110100101101100
0110010100100000011011000110100101110011011101000110010101101110011010010110111001100111001000000111
0100011011110010000000100111011001000110000101110100011000010010011100101100001000000110000101101110
0110010000100000011001000110010101100011011100100111100101110000011101000010000001110100011010000110
01010010000001101101011001010111001101110011011000010110011101100101001011100010111000101110

... and a bunch of zeros.
*/

// I could translate this by myself but, somebody could do it for me:
// http://www.rapidtables.com/convert/number/binary-to-ascii.htm
